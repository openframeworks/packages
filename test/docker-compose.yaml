version: '3.4'

x-package: &default
  volumes:
    - .:/package
    - ../..:/repo

x-build: &build
  context: .

services:
  openssl-windows-amd64-msvc:
    <<: *default
    build:
      <<: *build
      dockerfile: Dockerfile
      args:
        - PACKAGE_NAME=openssl
        - FULL_PACKAGE_NAME=openssl-windows-amd64-msvc
        - CC_COMPILER_PACKAGE=msvc
        - CC_COMPILER=msvc
        - CXX_COMPILER_PACKAGE=msvc
        - CXX_COMPILER=msvc